Steps how to make new library component:
========================================

- Install Ruby + SASS
  (https://www.digitalocean.com/community/articles/how-to-install-ruby-on-rails-on-ubuntu-12-04-lts-precise-pangolin-with-rvm)
  % curl -L https://get.rvm.io | bash -s stable
  % source ~/.rvm/scripts/rvm
  % rvm requirements
  % rvm install ruby
  % rvm use ruby --default
  % rvm rubygems current
  % gem install compass

- Install Grunt:
  % ../install/install_system.sh nodejs (must be installed first)
  % sudo npm install

- mkdir framework

- create bower.json:
{
  "name": "Application framework",
  "version": "0.0.1",
  "main": "app_framework.js",
  "ignore": [
    "components",
    "test",
    "build"
  ],
  "dependencies": {
    "jquery": "latest",
    "backbone-amd": "latest",
    "underscore-amd": "latest"
  },
  "devDependencies": {
    "requirejs": "latest"
  }
}

- create .bowerrc:
{
  "directory": "components"
}

- execute: bower install
- mkdir build
- create build.js:
{
    baseUrl: "../lib",
    include: ["../build/almond", "main"],
    exclude: ["jquery", "underscore", "backbone"],

    wrap: {
        "startFile": "wrap.start",
        "endFile": "wrap.end"
    },

    paths: {
        "jquery": "../components/jquery/jquery",
        "backbone": "../components/backbone-amd/backbone",
        "underscore": "../components/underscore-amd/underscore"
    },

    optimize: "none",
}

- copy/edit wrap.start + wrap.end
- make sure to modify wrap.end to include the new library component
define('framework', function () {
   return Framework; // Framework is what the lib/main.js is returning
});

- copy almond.js
- create Makefile
- mkdir lib
- mkdir lib/scripts
- create lib/main.js
- mkdir lib/libs/template_loader